<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Fiche employé</title>
  <link rel="stylesheet" href="employee_detail.css">
</head>
<body>
  <div class="card">
    <h1 id="emp-name"></h1>
    <p><span class="label">Poste :</span> <span id="emp-position"></span></p>
    <p><span class="label">Département :</span> <span id="emp-department"></span></p>
    <a href="employees.html">← Retour à la liste</a>
  </div>

  <script>
    const params = new URLSearchParams(window.location.search)
    const id = params.get('id')

    fetch(`http://localhost:3000/employees/${id}`, {
      headers: { 'Authorization': 'Bearer ' + localStorage.getItem('token') }
    })
    .then(res => res.json())
    .then(emp => {
      document.getElementById('emp-name').innerText = emp.name
      document.getElementById('emp-position').innerText = emp.position
      document.getElementById('emp-department').innerText = emp.department
    })
  </script>
</body>
</html>